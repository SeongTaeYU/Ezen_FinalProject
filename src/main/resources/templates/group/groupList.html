
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Insert title here</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">

<style type="text/css">
.table {
    width: 80%;
    border-top: 2px solid #444444;
    border-bottom: 2px solid #444444;
    border-collapse: collapse;
    border-color: gray;
    text-align: center;
    font-family: Halant;
  }

.table-thead {
border-bottom: 2px solid #444444;
}

th, td {
    border-bottom: 1px solid #444444;
    padding: 10px;
}


</style>
</head>
<body>
    <div th:if="${groupcategory != null}">
	    <h1>[[${groupCategory.groupCategoryName}]]
	        <span>
	            <a th:href="@{/}">
	                <button type="button" class="btn-goHome">홈화면으로</button>
	            </a>
	            <a th:href="@{/group/groupInsert}">
	                <button type="button" class="btn-groupInsert">그룹생성</button>
	            </a>
	        </span>
	    </h1>
	</div>
	<div th:unless="${groupcategory != null}">
	    전체 그룹 리스트
	    <span>
		    <a th:href="@{/}">
		    	<button type="button" class="btn-goHome">홈화면으로</button>
		    </a>
		    <a th:href="@{/group/groupInsert}">
		    	<button type="button" class="btn-groupInsert">그룹생성</button>
		    </a>
	    </span>
	</div>
<div>
    <div>
        <table class="table">
            <thead class="table-thead">
                <tr>
                    <th scope="col">No</th>
                    <th scope="col">카테고리</th>
                    <th scope="col">모임명</th>
                    <th scope="col">지역</th>
                    <th scope="col">모임장</th>
                    <th scope="col">개설일</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="group : ${filteredGroups}">
                    <td th:text="${group.groupNo}"></td>
                    <td>
<!--                         <a th:href="@{/group/groupRead(groupNo=${group.groupNo}, (수정)--> 
                        <a th:href="@{/group/groupIntroduce(groupNo=${group.groupNo},
                        page=${result.page},
                        type=${pageRequestDTO.type},
                        keyword=${pageRequestDTO.keyword},
                        groupCategoryNo=${param.groupCategoryNo})}">
                            [[${group.groupName}]]
                        </a>
                    </td>
                    <td th:text="${group.groupCategoryNo}"></td>
                    <td th:text="${group.regionNo}"></td>
                    <td th:text="${group.userNo}"></td>
                    <td th:text="${group.groupNo}"></td>
                    <td th:text="${#temporals.format(group.regDate, 'yyyy/MM/dd')}"></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- 페이징처리 시작 -->
    <ul class="pagination h-100 justify-content-center align-items-center">
        <li class="page-item" th:if="${result.prev}">
            <a class="page-link" th:href="@{/group/groupList(page=${result.start - 1},
            type=${pageRequestDTO.type},
            keyword=${pageRequestDTO.keyword},
            groupCategoryNo=${param.groupCategoryNo})}" tabindex="-1">Previous</a>
        </li>

        <li th:class="'page-item ' + ${result.page == page ? 'active' : ''}" th:each="page: ${result.pageList}">
            <a class="page-link" th:href="@{/group/groupList(page=${page},
            type=${pageRequestDTO.type},
            keyword=${pageRequestDTO.keyword},
            groupCategoryNo=${param.groupCategoryNo})}">
                [[${page}]]
            </a>
        </li>

        <li class="page-item" th:if="${result.next}">
            <a class="page-link" th:href="@{/group/groupList(page=${result.end + 1},
            type=${pageRequestDTO.type},
            keyword=${pageRequestDTO.keyword},
            groupCategoryNo=${param.groupCategoryNo})}">Next</a>
        </li>
    </ul>
    <!-- 페이징처리 끝 -->
</div>
</body>
</html>